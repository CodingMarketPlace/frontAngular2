<!doctype html>
<html lang="en"  ng-app="CodingMarketPlaceApp" ng-cloak>
    <head>
        <meta charset="utf-8">
        <title>Coding Market Place</title>
        <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css"/>
        <link rel="stylesheet" href="bower_components/angular-material/angular-material.css"/>
        <link rel="stylesheet" href="css/app.css"/>
    </head>
    <body id="allProjects" md-swipe-right="openSideNavPanel()" md-swipe-left="closeSideNavPanel()">
    <div ng-controller="ToolbarCtrl">
    <md-toolbar id="toolbar">
        <div class="md-toolbar-tools">
            <md-button class="md-icon-button" 
                       aria-label="Side Panel" ng-click="openSideNavPanel()" ng-if="screenIsSmall">
            <md-icon md-svg-src="img/icons/menu.svg"></md-icon>
            </md-button>
            <h2>
                <span><a href="#/">Coding Market Place</a></span>
            </h2>
            <span flex></span>
            <md-input-container style="margin-bottom: 0px;margin-top: 10px;" 
                                ng-if="loggedIn === true && !screenIsSmall">
                <input ng-model="input.searchText"
                       placeholder="Rechercher un projet">
            </md-input-container>
            <md-icon md-svg-src="img/icons/search.svg" 
                     aria-label="search project"
                     ng-click="search()"
                     ng-if="loggedIn === true && !screenIsSmall">
            </md-icon>
            <span flex></span>
            <md-button 
                aria-label="Gestion Admin" 
                ng-click="goAdmin()"
                ng-if="loggedIn === true && !screenIsSmall && isAdmin">
                Gestion Admin
            </md-button>
            <md-button 
                aria-label="Créer un projet" 
                ng-click="showDialogProjectCreate($event)"
                ng-if="loggedIn === true && !screenIsSmall && isProjectLeader">
                Créer un projet
            </md-button>
            <md-button 
                aria-label="Mon compte" 
                ng-click="myAccount()"
                ng-if="loggedIn === true && !screenIsSmall">
                Mon compte
            </md-button>
            <md-button 
                aria-label="Connexion" 
                ng-click="showDialogConnect($event)" 
                ng-if="loggedIn !== true && !screenIsSmall">
                Connexion
            </md-button>
            <md-button 
                aria-label="Inscription"
                ng-click="showDialogInscription($event)"
                ng-if="loggedIn !== true && !screenIsSmall">
                Inscription
            </md-button>
            <md-button
                aria-label="Déconnexion"
                ng-click="logOut()"
                ng-if="loggedIn === true && !screenIsSmall">
                Déconnexion
            </md-button>
        </div>
    </md-toolbar>
    <md-sidenav ng-if="screenIsSmall" id="sidenav" class="md-sidenav-left md-whiteframe-z2"
        md-component-id="left" layout-wrap>
            <span layout="row" layout-padding layout-margin>
            <md-input-container style="margin-bottom: 0px;" 
                                ng-if="loggedIn === true" flex>
                <input ng-model="input.searchText"
                       placeholder="Rechercher un projet" flex>
            </md-input-container>
            <md-icon md-svg-src="img/icons/search.svg"
                     style="color:#fff" 
                     aria-label="search project"
                     ng-click="search()"
                     ng-if="loggedIn === true">
            </md-icon>
            </span>
            <span flex></span>
            <md-button 
                style="width:100%;"
                aria-label="Gestion Admin" 
                ng-click="goAdmin()"
                ng-if="loggedIn === true && isAdmin">
                Gestion Admin
            </md-button>
            <md-button 
                style="width:100%;"
                aria-label="Créer un projet" 
                ng-click="showDialogProjectCreate($event)"
                ng-if="loggedIn === true && isProjectLeader">
                Créer un projet
            </md-button>
            <md-button 
                style="width:100%;"
                aria-label="Mon compte" 
                ng-click="myAccount()"
                ng-if="loggedIn === true">
                Mon compte
            </md-button>
            
            <md-button 
                style="width:100%;"
                aria-label="Connexion" 
                ng-click="showDialogConnect($event)" 
                ng-if="loggedIn !== true">
                Connexion
            </md-button>
            <md-button 
                style="width:100%;"
                aria-label="Inscription"
                ng-click="showDialogInscription($event)"
                ng-if="loggedIn !== true">
                Inscription
            </md-button>
            <md-button
                style="width:100%;"
                aria-label="Déconnexion"
                ng-click="logOut()"
                ng-if="loggedIn === true">
                Déconnexion
            </md-button>
    </md-sidenav>
</div>
    <md-content class="view-container" ng-view>
    </md-content>

    <div flex>
        <footer>
            <a href="">Contactez-nous !</a>
            <a href="#/legal-notice">Mentions légales</a>
            <div>Conding Market Place - © PREB S.A.S.</div>
        </footer>
    </div>

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-aria/angular-aria.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-material/angular-material.min.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>

    <script src="js/app.js"></script>
    <script src="js/toolbar.js"></script>
    <script src="js/projects.js"></script>
    <script src="js/project.js"></script>
    <script src="js/user.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
